<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2022-12-13 Tue 12:36 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Что я узнал за 10 дней Advent Of Code на SQLite</title>
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<style>/*! normalize.css v4.1.1 | MIT License | github.com/necolas/normalize.css */
html {
  font-family: sans-serif;
  line-height: 1.15;
  -ms-text-size-adjust: 100%;
  -webkit-text-size-adjust: 100%;
}
body {
  margin: 0;
}
article,
aside,
details,
figcaption,
figure,
footer,
header,
main,
menu,
nav,
section,
summary {
  display: block;
}
audio,
canvas,
progress,
video {
  display: inline-block;
}
audio:not([controls]) {
  display: none;
  height: 0;
}
progress {
  vertical-align: baseline;
}
[hidden],
template {
  display: none;
}
a {
  background-color: transparent;
  -webkit-text-decoration-skip: objects;
}
a:active,
a:hover {
  outline-width: 0;
}
abbr[title] {
  border-bottom: none;
  text-decoration: underline;
  -webkit-text-decoration: underline dotted;
  text-decoration: underline dotted;
}
b,
strong {
  font-weight: inherit;
  font-weight: bolder;
}
dfn {
  font-style: italic;
}
h1 {
  font-size: 2em;
  margin: 0.67em 0;
}
mark {
  background-color: #ff0;
  color: #000;
}
small {
  font-size: 80%;
}
sub,
sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}
sub {
  bottom: -0.25em;
}
sup {
  top: -0.5em;
}
img {
  border-style: none;
}
svg:not(:root) {
  overflow: hidden;
}
code,
kbd,
pre,
samp {
  font-family: monospace, monospace;
  font-size: 1em;
}
figure {
  margin: 1em 40px;
}
hr {
  box-sizing: content-box;
  height: 0;
  overflow: visible;
}
button,
input,
optgroup,
select,
textarea {
  font: inherit;
  margin: 0;
}
optgroup {
  font-weight: 700;
}
button,
input {
  overflow: visible;
}
button,
select {
  text-transform: none;
}
[type="reset"],
[type="submit"],
button,
html [type="button"] {
  -webkit-appearance: button;
}
[type="button"]::-moz-focus-inner,
[type="reset"]::-moz-focus-inner,
[type="submit"]::-moz-focus-inner,
button::-moz-focus-inner {
  border-style: none;
  padding: 0;
}
[type="button"]:-moz-focusring,
[type="reset"]:-moz-focusring,
[type="submit"]:-moz-focusring,
button:-moz-focusring {
  outline: 1px dotted ButtonText;
}
fieldset {
  border: 1px solid silver;
  margin: 0 2px;
  padding: 0.35em 0.625em 0.75em;
}
legend {
  box-sizing: border-box;
  color: inherit;
  display: table;
  max-width: 100%;
  padding: 0;
  white-space: normal;
}
textarea {
  overflow: auto;
}
[type="checkbox"],
[type="radio"] {
  box-sizing: border-box;
  padding: 0;
}
[type="number"]::-webkit-inner-spin-button,
[type="number"]::-webkit-outer-spin-button {
  height: auto;
}
[type="search"] {
  -webkit-appearance: textfield;
  outline-offset: -2px;
}
[type="search"]::-webkit-search-cancel-button,
[type="search"]::-webkit-search-decoration {
  -webkit-appearance: none;
}
::-webkit-input-placeholder {
  color: inherit;
  opacity: 0.54;
}
::-webkit-file-upload-button {
  -webkit-appearance: button;
  font: inherit;
}
body {
  color: #000;
  background-color: #fff;
}
.org-alert-high {
  color: #ff8c00;
  font-weight: 700;
}
.org-alert-low {
  color: #00008b;
}
.org-alert-moderate {
  color: gold;
  font-weight: 700;
}
.org-alert-saved-fringe {
  background-color: #f2f2f2;
}
.org-alert-trivial {
  color: Dark purple;
}
.org-alert-urgent {
  color: red;
  font-weight: 700;
}
.org-anzu-match-1 {
  color: #000;
  background-color: #7fffd4;
}
.org-anzu-match-2 {
  color: #000;
  background-color: #00ff7f;
}
.org-anzu-match-3 {
  color: #000;
  background-color: #ff0;
}
.org-anzu-mode-line,
.org-anzu-mode-line-no-match {
  color: #008b00;
  font-weight: 700;
}
.org-anzu-replace-highlight {
  color: #b0e2ff;
  background-color: #cd00cd;
}
.org-anzu-replace-to {
  color: red;
}
.org-bbdb-field-name {
  color: sienna;
}
.org-bbdb-name {
  color: #00f;
}
.org-bbdb-organization {
  color: #b22222;
}
.org-beacon-fallback-background {
  background-color: #000;
}
.org-biblio-results-header {
  color: #483d8b;
  font-size: 150%;
  font-weight: 700;
}
.org-bold {
  font-weight: 700;
}
.org-bold-italic {
  font-weight: 700;
  font-style: italic;
}
.org-bookmark-menu-bookmark {
  font-weight: 700;
}
.org-bookmark-menu-heading {
  color: #228b22;
}
.org-buffer-menu-buffer {
  font-weight: 700;
}
.org-builtin {
  color: #483d8b;
}
.org-button {
  color: #3a5fcd;
  text-decoration: underline;
}
.org-c-annotation {
  color: #008b8b;
}
.org-cal-china-x-general-holiday {
  background-color: #228b22;
}
.org-cal-china-x-important-holiday {
  background-color: #8b0000;
}
.org-calendar-iso-week {
  color: pink;
  font-weight: 700;
}
.org-calendar-iso-week-header {
  color: #0ff;
}
.org-calendar-month-header {
  color: #00f;
}
.org-calendar-today {
  text-decoration: underline;
}
.org-calendar-weekday-header {
  color: #008b8b;
}
.org-calendar-weekend-header {
  color: #b22222;
}
.org-comint-highlight-input {
  font-weight: 700;
}
.org-comint-highlight-prompt {
  color: #0000cd;
}
.org-comment,
.org-comment-delimiter {
  color: #b22222;
}
.org-compilation-column-number {
  color: #8b2252;
}
.org-compilation-error {
  color: red;
  font-weight: 700;
}
.org-compilation-info {
  color: #228b22;
  font-weight: 700;
}
.org-compilation-line-number {
  color: #a020f0;
}
.org-compilation-mode-line-exit {
  color: #228b22;
  font-weight: 700;
}
.org-compilation-mode-line-fail {
  color: red;
  font-weight: 700;
}
.org-compilation-mode-line-run,
.org-compilation-warning {
  color: #ff8c00;
  font-weight: 700;
}
.org-completions-annotations {
  font-style: italic;
}
.org-completions-first-difference {
  font-weight: 700;
}
.org-constant {
  color: #008b8b;
}
.org-cursor {
  background-color: #eead0e;
}
.org-custom-button {
  color: #000;
  background-color: #d3d3d3;
}
.org-custom-button-mouse {
  color: #000;
  background-color: #e5e5e5;
}
.org-custom-button-pressed {
  color: #000;
  background-color: #d3d3d3;
}
.org-custom-button-pressed-unraised {
  color: #8b008b;
  text-decoration: underline;
}
.org-custom-button-unraised {
  text-decoration: underline;
}
.org-custom-changed {
  color: #fff;
  background-color: #00f;
}
.org-custom-comment {
  background-color: #d9d9d9;
}
.org-custom-comment-tag {
  color: #00008b;
}
.org-custom-face-tag {
  color: #00f;
  font-weight: 700;
}
.org-custom-group-subtitle {
  font-weight: 700;
}
.org-custom-group-tag {
  color: #00f;
  font-size: 120%;
  font-weight: 700;
}
.org-custom-group-tag-1 {
  color: red;
  font-size: 120%;
  font-weight: 700;
}
.org-custom-invalid {
  color: #ff0;
  background-color: red;
}
.org-custom-link {
  color: #3a5fcd;
  text-decoration: underline;
}
.org-custom-modified {
  color: #fff;
  background-color: #00f;
}
.org-custom-rogue {
  color: pink;
  background-color: #000;
}
.org-custom-saved {
  text-decoration: underline;
}
.org-custom-set {
  color: #00f;
  background-color: #fff;
}
.org-custom-state {
  color: #006400;
}
.org-custom-themed {
  color: #fff;
  background-color: #00f;
}
.org-custom-variable-button {
  font-weight: 700;
  text-decoration: underline;
}
.org-custom-variable-tag {
  color: #00f;
  font-weight: 700;
}
.org-custom-visibility {
  color: #3a5fcd;
  font-size: 80%;
  text-decoration: underline;
}
.org-diary {
  color: red;
}
.org-diary-anniversary {
  color: #a020f0;
}
.org-diary-time {
  color: sienna;
}
.org-dired-async-failures {
  color: red;
}
.org-dired-async-message {
  color: #ff0;
}
.org-dired-async-mode-message {
  color: gold;
}
.org-dired-directory {
  color: #00f;
}
.org-dired-flagged {
  color: red;
  font-weight: 700;
}
.org-dired-header {
  color: #228b22;
}
.org-dired-ignored {
  color: #7f7f7f;
}
.org-dired-mark {
  color: #008b8b;
}
.org-dired-marked {
  color: #ff8c00;
  font-weight: 700;
}
.org-dired-perm-write {
  color: #b22222;
}
.org-dired-symlink {
  color: #a020f0;
}
.org-dired-warning {
  color: red;
  font-weight: 700;
}
.org-doc {
  color: #8b2252;
}
.org-eldoc-highlight-function-argument {
  font-weight: 700;
}
.org-epa-field-body {
  font-style: italic;
}
.org-epa-field-name,
.org-epa-mark {
  font-weight: 700;
}
.org-epa-mark {
  color: red;
}
.org-epa-string {
  color: #00008b;
}
.org-epa-validity-disabled {
  font-style: italic;
}
.org-epa-validity-high {
  font-weight: 700;
}
.org-epa-validity-low,
.org-epa-validity-medium {
  font-style: italic;
}
.org-error {
  color: red;
  font-weight: 700;
}
.org-escape-glyph {
  color: brown;
}
.org-evil-ex-commands {
  font-style: italic;
  text-decoration: underline;
}
.org-evil-ex-info {
  color: red;
  font-style: italic;
}
.org-evil-ex-lazy-highlight {
  background-color: #afeeee;
}
.org-evil-ex-search {
  color: #b0e2ff;
  background-color: #cd00cd;
}
.org-evil-ex-substitute-matches {
  background-color: #afeeee;
}
.org-evil-ex-substitute-replacement {
  color: red;
  text-decoration: underline;
}
.org-ffap {
  background-color: #b4eeb4;
}
.org-file-name-shadow {
  color: #7f7f7f;
}
.org-flycheck-error {
  text-decoration: underline;
}
.org-flycheck-error-list-checker-name {
  color: #00f;
}
.org-flycheck-error-list-column-number {
  color: #008b8b;
}
.org-flycheck-error-list-error {
  color: red;
  font-weight: 700;
}
.org-flycheck-error-list-filename {
  color: sienna;
}
.org-flycheck-error-list-highlight {
  background-color: #b4eeb4;
}
.org-flycheck-error-list-id,
.org-flycheck-error-list-id-with-explainer {
  color: #228b22;
}
.org-flycheck-error-list-info {
  color: #228b22;
  font-weight: 700;
}
.org-flycheck-error-list-line-number {
  color: #008b8b;
}
.org-flycheck-error-list-warning {
  color: #ff8c00;
  font-weight: 700;
}
.org-flycheck-fringe-error {
  color: red;
  font-weight: 700;
}
.org-flycheck-fringe-info {
  color: #228b22;
  font-weight: 700;
}
.org-flycheck-fringe-warning {
  color: #ff8c00;
  font-weight: 700;
}
.org-flycheck-info,
.org-flycheck-warning,
.org-flyspell-duplicate,
.org-flyspell-incorrect {
  text-decoration: underline;
}
.org-fringe {
  background-color: #f2f2f2;
}
.org-function-name {
  color: #00f;
}
.org-glyphless-char {
  font-size: 60%;
}
.org-golden-ratio-scroll-highlight-line {
  color: #fff;
  background-color: #53868b;
  font-weight: 700;
}
.org-header-line {
  color: #333;
  background-color: #e5e5e5;
}
.org-helm-action {
  text-decoration: underline;
}
.org-helm-bookmark-addressbook {
  color: tomato;
}
.org-helm-bookmark-directory {
  color: #8b0000;
  background-color: #d3d3d3;
}
.org-helm-bookmark-file {
  color: #00b2ee;
}
.org-helm-bookmark-file-not-found {
  color: #6c7b8b;
}
.org-helm-bookmark-gnus {
  color: #f0f;
}
.org-helm-bookmark-info {
  color: #0f0;
}
.org-helm-bookmark-man {
  color: #8b5a00;
}
.org-helm-bookmark-w3m {
  color: #ff0;
}
.org-helm-buffer-archive {
  color: gold;
}
.org-helm-buffer-directory {
  color: #8b0000;
  background-color: #d3d3d3;
}
.org-helm-buffer-file {
  color: #483d8b;
}
.org-helm-buffer-modified {
  color: #b22222;
}
.org-helm-buffer-not-saved {
  color: #ee6363;
}
.org-helm-buffer-process {
  color: #cd6839;
}
.org-helm-buffer-saved-out {
  color: red;
  background-color: #000;
}
.org-helm-buffer-size {
  color: #708090;
}
.org-helm-candidate-number,
.org-helm-candidate-number-suspended {
  color: #000;
  background-color: #faffb5;
}
.org-helm-delete-async-message {
  color: #ff0;
}
.org-helm-etags-file {
  color: #8b814c;
  text-decoration: underline;
}
.org-helm-ff-denied {
  color: red;
  background-color: #000;
}
.org-helm-ff-directory {
  color: #8b0000;
  background-color: #d3d3d3;
}
.org-helm-ff-dirs {
  color: #00f;
}
.org-helm-ff-dotted-directory {
  color: #000;
  background-color: #696969;
}
.org-helm-ff-dotted-symlink-directory {
  color: #ff8c00;
  background-color: #696969;
}
.org-helm-ff-executable {
  color: #0f0;
}
.org-helm-ff-file {
  color: #483d8b;
}
.org-helm-ff-invalid-symlink {
  color: #000;
  background-color: red;
}
.org-helm-ff-pipe {
  color: #ff0;
  background-color: #000;
}
.org-helm-ff-prefix {
  color: #000;
  background-color: #ff0;
}
.org-helm-ff-socket {
  color: #ff1493;
}
.org-helm-ff-suid {
  color: #fff;
  background-color: red;
}
.org-helm-ff-symlink {
  color: #b22222;
}
.org-helm-ff-truename {
  color: #8b2252;
}
.org-helm-grep-cmd-line {
  color: #228b22;
}
.org-helm-grep-file {
  color: #8a2be2;
  text-decoration: underline;
}
.org-helm-grep-finish {
  color: #0f0;
}
.org-helm-grep-lineno {
  color: #ff7f00;
}
.org-helm-grep-match {
  color: #b00000;
}
.org-helm-header {
  color: #333;
  background-color: #e5e5e5;
}
.org-helm-header-line-left-margin {
  color: #000;
  background-color: #ff0;
}
.org-helm-helper {
  color: #333;
  background-color: #e5e5e5;
}
.org-helm-history-deleted {
  color: #000;
  background-color: red;
}
.org-helm-history-remote {
  color: #ff6a6a;
}
.org-helm-lisp-completion-info {
  color: red;
}
.org-helm-lisp-show-completion {
  background-color: #2f4f4f;
}
.org-helm-locate-finish {
  color: #0f0;
}
.org-helm-m-x-key {
  color: orange;
  text-decoration: underline;
}
.org-helm-match {
  color: #b00000;
}
.org-helm-match-item {
  color: #b0e2ff;
  background-color: #cd00cd;
}
.org-helm-minibuffer-prompt {
  color: #0000cd;
}
.org-helm-moccur-buffer {
  color: #00ced1;
  text-decoration: underline;
}
.org-helm-non-file-buffer {
  font-style: italic;
}
.org-helm-prefarg {
  color: red;
}
.org-helm-resume-need-update {
  background-color: red;
}
.org-helm-selection {
  background-color: #097209;
}
.org-helm-selection-line {
  background-color: #b4eeb4;
}
.org-helm-separator {
  color: #ffbfb5;
}
.org-helm-source-header {
  color: #000;
  background-color: #abd7f0;
  font-size: 130%;
  font-weight: 700;
}
.org-helm-visible-mark {
  background-color: #d1f5ea;
}
.org-help-argument-name {
  font-style: italic;
}
.org-highlight {
  background-color: #b4eeb4;
}
.org-highlight-indent-guides-character {
  color: #e6e6e6;
}
.org-highlight-indent-guides-even {
  background-color: #e6e6e6;
}
.org-highlight-indent-guides-odd {
  background-color: #f3f3f3;
}
.org-highlight-indent-guides-stack-character {
  color: #ccc;
}
.org-highlight-indent-guides-stack-even {
  background-color: #ccc;
}
.org-highlight-indent-guides-stack-odd {
  background-color: #d9d9d9;
}
.org-highlight-indent-guides-top-character {
  color: #b3b3b3;
}
.org-highlight-indent-guides-top-even {
  background-color: #b3b3b3;
}
.org-highlight-indent-guides-top-odd {
  background-color: silver;
}
.org-highlight-numbers-number {
  color: #008b8b;
}
.org-hl-line {
  background-color: #b4eeb4;
}
.org-holiday {
  background-color: pink;
}
.org-hydra-face-amaranth {
  color: #e52b50;
  font-weight: 700;
}
.org-hydra-face-blue {
  color: #00f;
  font-weight: 700;
}
.org-hydra-face-pink {
  color: #ff6eb4;
  font-weight: 700;
}
.org-hydra-face-red {
  color: red;
  font-weight: 700;
}
.org-hydra-face-teal {
  color: #367588;
  font-weight: 700;
}
.org-ido-first-match {
  font-weight: 700;
}
.org-ido-incomplete-regexp {
  color: red;
  font-weight: 700;
}
.org-ido-indicator {
  color: #ff0;
  background-color: red;
}
.org-ido-only-match {
  color: #228b22;
}
.org-ido-subdir {
  color: red;
}
.org-ido-virtual {
  color: #483d8b;
}
.org-info-header-node {
  color: brown;
  font-weight: 700;
  font-style: italic;
}
.org-info-header-xref {
  color: #3a5fcd;
  text-decoration: underline;
}
.org-info-index-match {
  background-color: #ff0;
}
.org-info-menu-header {
  font-weight: 700;
}
.org-info-menu-star {
  color: red;
}
.org-info-node {
  color: brown;
  font-weight: 700;
  font-style: italic;
}
.org-info-title-1 {
  font-size: 172%;
  font-weight: 700;
}
.org-info-title-2 {
  font-size: 144%;
  font-weight: 700;
}
.org-info-title-3 {
  font-size: 120%;
  font-weight: 700;
}
.org-info-title-4 {
  font-weight: 700;
}
.org-info-xref {
  color: #3a5fcd;
  text-decoration: underline;
}
.org-isearch {
  color: #b0e2ff;
  background-color: #cd00cd;
}
.org-isearch-fail {
  background-color: #ffc1c1;
}
.org-italic {
  font-style: italic;
}
.org-keyword {
  color: #a020f0;
}
.org-lazy-highlight {
  background-color: #afeeee;
}
.org-link {
  color: #3a5fcd;
  text-decoration: underline;
}
.org-link-visited {
  color: #8b008b;
  text-decoration: underline;
}
.org-lv-separator {
  background-color: #ccc;
}
.org-match {
  background-color: #ff0;
}
.org-mcXcursor-bar {
  background-color: #000;
}
.org-mcXregion {
  background-color: gtk_selection_bg_color;
}
.org-me-dired-dim-0 {
  color: #b3b3b3;
}
.org-me-dired-dim-1 {
  color: #7f7f7f;
}
.org-me-dired-executable {
  color: #0f0;
}
.org-message-cited-text {
  color: red;
}
.org-message-header-cc {
  color: #191970;
}
.org-message-header-name {
  color: #6495ed;
}
.org-message-header-newsgroups {
  color: #00008b;
  font-weight: 700;
  font-style: italic;
}
.org-message-header-other {
  color: #4682b4;
}
.org-message-header-subject {
  color: navy;
  font-weight: 700;
}
.org-message-header-to {
  color: #191970;
  font-weight: 700;
}
.org-message-header-xheader {
  color: #00f;
}
.org-message-mml {
  color: #228b22;
}
.org-message-separator {
  color: brown;
}
.org-minibuffer-prompt {
  color: #0000cd;
}
.org-mm-command-output {
  color: #cd0000;
}
.org-mode-line {
  color: #000;
  background-color: #bfbfbf;
}
.org-mode-line-buffer-id,
.org-mode-line-buffer-id-inactive,
.org-mode-line-emphasis {
  font-weight: 700;
}
.org-mode-line-inactive {
  color: #333;
  background-color: #e5e5e5;
}
.org-mu4e-attach-number {
  color: sienna;
  font-weight: 700;
}
.org-mu4e-cited-1 {
  color: #483d8b;
  font-style: italic;
}
.org-mu4e-cited-2 {
  color: #5cacee;
  font-style: italic;
}
.org-mu4e-cited-3 {
  color: sienna;
  font-style: italic;
}
.org-mu4e-cited-4 {
  color: #a020f0;
  font-style: italic;
}
.org-mu4e-cited-5,
.org-mu4e-cited-6 {
  color: #b22222;
  font-style: italic;
}
.org-mu4e-cited-7 {
  color: #228b22;
  font-style: italic;
}
.org-mu4e-compose-header,
.org-mu4e-compose-separator {
  color: brown;
  font-style: italic;
}
.org-mu4e-contact {
  color: sienna;
}
.org-mu4e-context {
  color: #006400;
  font-weight: 700;
}
.org-mu4e-draft {
  color: #8b2252;
}
.org-mu4e-flagged {
  color: #008b8b;
  font-weight: 700;
}
.org-mu4e-footer {
  color: #b22222;
}
.org-mu4e-forwarded {
  color: #483d8b;
}
.org-mu4e-header {
  color: #000;
  background-color: #fff;
}
.org-mu4e-header-highlight {
  background-color: #000;
  font-weight: 700;
  text-decoration: underline;
}
.org-mu4e-header-key {
  color: #6495ed;
  font-weight: 700;
}
.org-mu4e-header-marks {
  color: #483d8b;
}
.org-mu4e-header-title,
.org-mu4e-header-value {
  color: #228b22;
}
.org-mu4e-highlight {
  background-color: #b4eeb4;
}
.org-mu4e-link {
  color: #3a5fcd;
  text-decoration: underline;
}
.org-mu4e-modeline {
  color: #8b4500;
  font-weight: 700;
}
.org-mu4e-moved {
  color: #b22222;
  font-style: italic;
}
.org-mu4e-ok {
  color: #b22222;
  font-weight: 700;
}
.org-mu4e-region-code {
  background-color: #2f4f4f;
}
.org-mu4e-replied,
.org-mu4e-special-header-value {
  color: #483d8b;
}
.org-mu4e-system {
  color: #b22222;
  font-style: italic;
}
.org-mu4e-title {
  color: #228b22;
  font-weight: 700;
}
.org-mu4e-trashed {
  color: #b22222;
  text-decoration: line-through;
}
.org-mu4e-unread {
  color: #a020f0;
  font-weight: 700;
}
.org-mu4e-url-number {
  color: #008b8b;
  font-weight: 700;
}
.org-mu4e-view-body {
  color: #000;
  background-color: #fff;
}
.org-mu4e-warning {
  color: red;
  font-weight: 700;
}
.org-next-error {
  background-color: gtk_selection_bg_color;
}
.org-nobreak-space {
  color: brown;
  text-decoration: underline;
}
.org-org-agenda-calendar-event,
.org-org-agenda-calendar-sexp {
  color: #000;
  background-color: #fff;
}
.org-org-agenda-clocking {
  background-color: #ff0;
}
.org-org-agenda-column-dateline {
  background-color: #e5e5e5;
}
.org-org-agenda-current-time {
  color: #b8860b;
}
.org-org-agenda-date {
  color: #00f;
}
.org-org-agenda-date-today {
  color: #00f;
  font-weight: 700;
  font-style: italic;
}
.org-org-agenda-date-weekend {
  color: #00f;
  font-weight: 700;
}
.org-org-agenda-diary {
  color: #000;
  background-color: #fff;
}
.org-org-agenda-dimmed-todo {
  color: #7f7f7f;
}
.org-org-agenda-done {
  color: #228b22;
}
.org-org-agenda-filter-category,
.org-org-agenda-filter-effort,
.org-org-agenda-filter-regexp,
.org-org-agenda-filter-tags {
  color: #000;
  background-color: #bfbfbf;
}
.org-org-agenda-restriction-lock {
  background-color: #eee;
}
.org-org-agenda-structure {
  color: #00f;
}
.org-org-archived {
  color: #7f7f7f;
}
.org-org-block {
  color: #7f7f7f;
}
.org-org-block-begin-line,
.org-org-block-end-line {
  color: #b22222;
}
.org-org-checkbox {
  font-weight: 700;
}
.org-org-checkbox-statistics-done {
  color: #228b22;
  font-weight: 700;
}
.org-org-checkbox-statistics-todo {
  color: red;
  font-weight: 700;
}
.org-org-clock-overlay {
  color: #000;
  background-color: #d3d3d3;
}
.org-org-code {
  color: #7f7f7f;
}
.org-org-column,
.org-org-column-title {
  background-color: #e5e5e5;
}
.org-org-column-title {
  font-weight: 700;
  text-decoration: underline;
}
.org-org-date {
  color: #bfaf87;
  text-decoration: underline;
}
.org-org-date-selected {
  color: red;
}
.org-org-default {
  color: #000;
  background-color: #fff;
}
.org-org-document-info {
  color: #191970;
}
.org-org-document-info-keyword {
  color: #7f7f7f;
}
.org-org-document-title {
  color: #191970;
  font-weight: 700;
}
.org-org-done {
  color: #228b22;
  font-weight: 700;
}
.org-org-drawer {
  color: #00f;
}
.org-org-ellipsis {
  color: #b8860b;
  text-decoration: underline;
}
.org-org-footnote {
  color: #96b4cd;
  text-decoration: underline;
}
.org-org-formula {
  color: #b22222;
}
.org-org-habit-alert {
  background-color: #f5f946;
}
.org-org-habit-alert-future {
  background-color: #fafca9;
}
.org-org-habit-clear {
  background-color: #8270f9;
}
.org-org-habit-clear-future {
  background-color: #d6e4fc;
}
.org-org-habit-overdue {
  background-color: #f9372d;
}
.org-org-habit-overdue-future {
  background-color: #fc9590;
}
.org-org-habit-ready {
  background-color: #4df946;
}
.org-org-habit-ready-future {
  background-color: #acfca9;
}
.org-org-headline-done {
  color: #bc8f8f;
}
.org-org-hide {
  color: #fff;
}
.org-org-latex-and-related {
  color: #8b4513;
}
.org-org-level-1 {
  color: #edd1c5;
}
.org-org-level-2 {
  color: #ebebb7;
}
.org-org-level-3 {
  color: #cce8cc;
}
.org-org-level-4 {
  color: #c9deec;
}
.org-org-level-5 {
  color: #dce3e8;
}
.org-org-level-6 {
  color: #dde6dd;
}
.org-org-level-7 {
  color: #e8e8ce;
}
.org-org-level-8 {
  color: #e8dedb;
}
.org-org-link {
  color: #c5d2dc;
  text-decoration: underline;
}
.org-org-list-dt {
  font-weight: 700;
}
.org-org-macro {
  color: #8b4513;
}
.org-org-meta-line {
  color: #b22222;
}
.org-org-mode-line-clock {
  color: #000;
  background-color: #bfbfbf;
}
.org-org-mode-line-clock-overrun {
  color: #000;
  background-color: red;
}
.org-org-priority {
  color: #a020f0;
}
.org-org-quote {
  color: #7f7f7f;
}
.org-org-ref-acronym {
  color: #ee7600;
  text-decoration: underline;
}
.org-org-ref-cite {
  color: #c3d5c3;
  text-decoration: underline;
}
.org-org-ref-glossary {
  color: #8968cd;
  text-decoration: underline;
}
.org-org-ref-label {
  color: #8b008b;
  text-decoration: underline;
}
.org-org-ref-ref {
  color: #e1cc96;
  text-decoration: underline;
}
.org-org-scheduled {
  color: #006400;
}
.org-org-scheduled-previously {
  color: #b22222;
}
.org-org-scheduled-today {
  color: #006400;
}
.org-org-sexp-date {
  color: #a020f0;
}
.org-org-special-keyword {
  color: #88949f;
}
.org-org-table {
  color: #00f;
}
.org-org-tag,
.org-org-tag-group {
  font-weight: 700;
}
.org-org-target {
  text-decoration: underline;
}
.org-org-time-grid {
  color: #b8860b;
}
.org-org-todo {
  color: red;
  font-weight: 700;
}
.org-org-upcoming-deadline {
  color: #b22222;
}
.org-org-verbatim,
.org-org-verse {
  color: #7f7f7f;
}
.org-org-warning {
  color: red;
  font-weight: 700;
}
.org-outline-1 {
  color: #00f;
}
.org-outline-2 {
  color: sienna;
}
.org-outline-3 {
  color: #a020f0;
}
.org-outline-4 {
  color: #b22222;
}
.org-outline-5 {
  color: #228b22;
}
.org-outline-6 {
  color: #008b8b;
}
.org-outline-7 {
  color: #483d8b;
}
.org-outline-8 {
  color: #8b2252;
}
.org-package-description {
  color: #000;
  background-color: #fff;
}
.org-package-name {
  color: #3a5fcd;
  text-decoration: underline;
}
.org-package-status-avail-obso {
  color: #b22222;
}
.org-package-status-available {
  color: #000;
  background-color: #fff;
}
.org-package-status-built-in {
  color: #483d8b;
}
.org-package-status-dependency {
  color: #b22222;
}
.org-package-status-disabled {
  color: red;
  font-weight: 700;
}
.org-package-status-external {
  color: #483d8b;
}
.org-package-status-held {
  color: #008b8b;
}
.org-package-status-incompat,
.org-package-status-installed {
  color: #b22222;
}
.org-package-status-unsigned {
  color: red;
  font-weight: 700;
}
.org-pdf-isearch-batch {
  background-color: #ff0;
}
.org-pdf-isearch-lazy {
  background-color: #afeeee;
}
.org-pdf-isearch-match {
  color: #b0e2ff;
  background-color: #cd00cd;
}
.org-pdf-occur-document {
  color: #8b2252;
}
.org-pdf-occur-page {
  color: #228b22;
}
.org-pdf-view-rectangle {
  background-color: #b4eeb4;
}
.org-pdf-view-region {
  background-color: gtk_selection_bg_color;
}
.org-powerline-active0 {
  color: #000;
  background-color: #bfbfbf;
}
.org-powerline-active1 {
  color: #fff;
  background-color: #2b2b2b;
}
.org-powerline-active2 {
  color: #fff;
  background-color: #666;
}
.org-powerline-inactive0 {
  color: #333;
  background-color: #e5e5e5;
}
.org-powerline-inactive1 {
  color: #333;
  background-color: #1c1c1c;
}
.org-powerline-inactive2 {
  color: #333;
  background-color: #333;
}
.org-preprocessor {
  color: #483d8b;
}
.org-query-replace {
  color: #b0e2ff;
  background-color: #cd00cd;
}
.org-rainbow-delimiters-depth-1 {
  color: #ffdead;
}
.org-rainbow-delimiters-depth-2 {
  color: #00bfff;
}
.org-rainbow-delimiters-depth-3 {
  color: #ffdead;
}
.org-rainbow-delimiters-depth-4 {
  color: #00bfff;
}
.org-rainbow-delimiters-depth-5 {
  color: #ffdead;
}
.org-rainbow-delimiters-depth-6 {
  color: #00bfff;
}
.org-rainbow-delimiters-depth-7 {
  color: #ffdead;
}
.org-rainbow-delimiters-depth-8 {
  color: #00bfff;
}
.org-rainbow-delimiters-depth-9 {
  color: #ffdead;
}
.org-rainbow-delimiters-unmatched {
  color: #88090b;
}
.org-reb-match-0 {
  background-color: #add8e6;
}
.org-reb-match-1 {
  background-color: #7fffd4;
}
.org-reb-match-2 {
  background-color: #00ff7f;
}
.org-reb-match-3 {
  background-color: #ff0;
}
.org-rectangle-preview {
  background-color: gtk_selection_bg_color;
}
.org-regexp-grouping-backslash,
.org-regexp-grouping-construct {
  font-weight: 700;
}
.org-region {
  background-color: gtk_selection_bg_color;
}
.org-secondary-selection {
  background-color: #ff0;
}
.org-semantic-highlight-edits,
.org-semantic-highlight-func-current-tag {
  background-color: #e5e5e5;
}
.org-semantic-unmatched-syntax {
  text-decoration: underline;
}
.org-sgml-namespace {
  color: #483d8b;
}
.org-sh-escaped-newline {
  color: #8b2252;
}
.org-sh-heredoc {
  color: #ee0;
}
.org-sh-quoted-exec {
  color: #f0f;
}
.org-shadow {
  color: #7f7f7f;
}
.org-show-paren-match {
  background-color: #40e0d0;
}
.org-show-paren-mismatch {
  color: #fff;
  background-color: #a020f0;
}
.org-sp-pair-overlay,
.org-sp-show-pair-enclosing {
  background-color: #b4eeb4;
}
.org-sp-show-pair-match {
  background-color: #40e0d0;
}
.org-sp-show-pair-mismatch {
  color: #fff;
  background-color: #a020f0;
}
.org-sp-wrap-overlay {
  background-color: #b4eeb4;
}
.org-sp-wrap-overlay-closing-pair {
  color: red;
  background-color: #b4eeb4;
}
.org-sp-wrap-overlay-opening-pair {
  color: #0f0;
  background-color: #b4eeb4;
}
.org-sp-wrap-tag-overlay {
  background-color: #b4eeb4;
}
.org-spaceline-flycheck-error {
  color: #fc5c94;
  background-color: #333;
}
.org-spaceline-flycheck-info {
  color: #8de6f7;
  background-color: #333;
}
.org-spaceline-flycheck-warning {
  color: #f3ea98;
  background-color: #333;
}
.org-spaceline-python-venv {
  color: #fbf;
}
.org-speedbar-button {
  color: #008b00;
}
.org-speedbar-directory {
  color: #00008b;
}
.org-speedbar-file {
  color: #008b8b;
}
.org-speedbar-highlight {
  background-color: #0f0;
}
.org-speedbar-selected {
  color: red;
  text-decoration: underline;
}
.org-speedbar-separator {
  color: #fff;
  background-color: #00f;
  text-decoration: overline;
}
.org-speedbar-tag {
  color: brown;
}
.org-string {
  color: #8b2252;
}
.org-success {
  color: #228b22;
  font-weight: 700;
}
.org-table-cell {
  color: #e5e5e5;
  background-color: #00f;
}
.org-tex-math {
  color: #8b2252;
}
.org-tool-bar {
  color: #000;
  background-color: #bfbfbf;
}
.org-tooltip {
  color: #000;
  background-color: #ffffe0;
}
.org-trailing-whitespace {
  background-color: red;
}
.org-tty-menu-disabled {
  color: #d3d3d3;
  background-color: #00f;
}
.org-tty-menu-enabled {
  color: #ff0;
  background-color: #00f;
  font-weight: 700;
}
.org-tty-menu-selected {
  background-color: red;
}
.org-type {
  color: #228b22;
}
.org-underline {
  text-decoration: underline;
}
.org-undo-tree-visualizer-active-branch {
  color: #000;
  font-weight: 700;
}
.org-undo-tree-visualizer-current {
  color: red;
}
.org-undo-tree-visualizer-default {
  color: #bebebe;
}
.org-undo-tree-visualizer-register {
  color: #ff0;
}
.org-undo-tree-visualizer-unmodified {
  color: #0ff;
}
.org-variable-name {
  color: sienna;
}
.org-vhlXdefault {
  background-color: #ff0;
}
.org-warning {
  color: #ff8c00;
  font-weight: 700;
}
.org-warning-1 {
  color: red;
  font-weight: 700;
}
.org-wgrep {
  color: #fff;
  background-color: #228b22;
}
.org-wgrep-delete {
  color: pink;
  background-color: #228b22;
}
.org-wgrep-done {
  color: #00f;
}
.org-wgrep-file {
  color: #fff;
  background-color: #228b22;
}
.org-wgrep-reject {
  color: red;
  font-weight: 700;
}
.org-which-key-command-description {
  color: #00f;
}
.org-which-key-docstring {
  color: #b22222;
}
.org-which-key-group-description {
  color: #a020f0;
}
.org-which-key-highlighted-command {
  color: #00f;
  text-decoration: underline;
}
.org-which-key-key {
  color: #008b8b;
}
.org-which-key-local-map-description {
  color: #00f;
}
.org-which-key-note,
.org-which-key-separator {
  color: #b22222;
}
.org-which-key-special-key {
  color: #008b8b;
  font-weight: 700;
}
.org-whitespace-big-indent {
  color: #b22222;
  background-color: red;
}
.org-whitespace-empty {
  color: #b22222;
  background-color: #ff0;
}
.org-whitespace-hspace {
  color: #d3d3d3;
  background-color: #cdc9a5;
}
.org-whitespace-indentation {
  color: #b22222;
  background-color: #ff0;
}
.org-whitespace-line {
  color: violet;
  background-color: #333;
}
.org-whitespace-newline {
  color: #d3d3d3;
}
.org-whitespace-space {
  color: #d3d3d3;
  background-color: #ffffe0;
}
.org-whitespace-space-after-tab {
  color: #b22222;
  background-color: #ff0;
}
.org-whitespace-space-before-tab {
  color: #b22222;
  background-color: #ff8c00;
}
.org-whitespace-tab {
  color: #d3d3d3;
  background-color: beige;
}
.org-whitespace-trailing {
  color: #ff0;
  background-color: red;
  font-weight: 700;
}
.org-widget-button {
  font-weight: 700;
}
.org-widget-button-pressed {
  color: red;
}
.org-widget-documentation {
  color: #006400;
}
.org-widget-field {
  background-color: #d9d9d9;
}
.org-widget-inactive {
  color: #7f7f7f;
}
.org-widget-single-line-field {
  background-color: #d9d9d9;
}
.org-window-divider {
  color: #999;
}
.org-window-divider-first-pixel {
  color: #ccc;
}
.org-window-divider-last-pixel {
  color: #666;
}
a {
  color: inherit;
  background-color: inherit;
  font: inherit;
  text-decoration: inherit;
}
a:hover {
  text-decoration: underline;
}
body {
  width: 95%;
  margin: 2% auto;
  font-size: 14px;
  line-height: 1.4em;
  font-family: Georgia, serif;
  color: #333;
}
@media screen and (min-width: 600px) {
  body {
    font-size: 18px;
  }
}
@media screen and (min-width: 910px) {
  body {
    width: 900px;
  }
}
::-moz-selection {
  background: #d6edff;
}
::selection {
  background: #d6edff;
}
p {
  margin: 1em auto;
}
dl,
ol,
ul {
  margin: 0 auto;
}
.title {
  margin: 0.8em auto;
  color: #000;
}
.subtitle,
.title {
  text-align: center;
}
.subtitle {
  font-size: 1.1em;
  line-height: 1.4;
  font-weight: 700;
  margin: 1em auto;
}
.abstract {
  margin: auto;
  width: 80%;
  font-style: italic;
}
.abstract p:last-of-type:before {
  content: "    ";
  white-space: pre;
}
.status {
  font-size: 90%;
  margin: 2em auto;
}
[class^="section-number-"] {
  margin-right: 0.5em;
}
[id^="orgheadline"] {
  clear: both;
}
#footnotes {
  font-size: 90%;
}
.footpara {
  display: inline;
  margin: 0.2em auto;
}
.footdef {
  margin-bottom: 1em;
}
.footdef sup {
  padding-right: 0.5em;
}
a {
  color: #527d9a;
  text-decoration: none;
}
a:hover {
  color: #035;
  border-bottom: 1px dotted;
}
figure {
  padding: 0;
  margin: 1em auto;
  text-align: center;
}
img {
  max-width: 100%;
  vertical-align: middle;
}
.MathJax_Display {
  margin: 0 !important;
  width: 90% !important;
}
h1,
h2,
h3,
h4,
h5,
h6 {
  color: #a5573e;
  line-height: 1em;
  font-family: Helvetica, sans-serif;
}
h1,
h2,
h3 {
  line-height: 1.4em;
}

h3,
h4,
h5,
h6 {
  color: #70371A;
}
h4,
h5,
h6 {
  font-size: 1em;
}
@media screen and (min-width: 600px) {
  h1 {
    font-size: 2em;
  }
  h2 {
    font-size: 1.5em;
  }
  h3 {
    font-size: 1.2em;
  }
  h1,
  h2,
  h3 {
    line-height: 1.4em;
  }
  h4,
  h5,
  h6 {
    font-size: 1.1em;
  }
}
dt {
  font-weight: 700;
}
table {
  margin: 1em auto;
  border-top: 2px solid;
  border-collapse: collapse;
}
table,
thead {
  border-bottom: 2px solid;
}
table td + td,
table th + th {
  border-left: 1px solid grey;
}
table tr {
  border-top: 1px solid #d3d3d3;
}
td,
th {
  padding: 0.3em 0.6em;
  vertical-align: middle;
}
caption.t-above {
  caption-side: top;
}
caption.t-bottom {
  caption-side: bottom;
}
caption {
  margin-bottom: 0.3em;
}
figcaption {
  margin-top: 0.3em;
}
th.org-center,
th.org-left,
th.org-right {
  text-align: center;
}
td.org-right {
  text-align: right;
}
td.org-left {
  text-align: left;
}
td.org-center {
  text-align: center;
}
blockquote {
  margin: 1em 2em;
  padding-left: 1em;
  border-left: 3px solid #ccc;
}
kbd {
  background-color: #f7f7f7;
  font-size: 80%;
  margin: 0 0.1em;
  padding: 0.1em 0.6em;
}
.todo {
  background-color: red;
}
.done,
.todo {
  color: #fff;
  padding: 0.1em 0.3em;
  border-radius: 3px;
  background-clip: padding-box;
  font-size: 80%;
  font-family: Lucida Console, monospace;
  line-height: 1;
}
.done {
  background-color: green;
}
.priority {
  color: orange;
  font-family: Lucida Console, monospace;
}
#table-of-contents li {
  clear: both;
}
.tag {
  font-family: Lucida Console, monospace;
  font-size: 0.7em;
  font-weight: 400;
}
.tag span {
  padding: 0.3em;
  float: right;
  margin-right: 0.5em;
  border: 1px solid #bbb;
  border-radius: 3px;
  background-clip: padding-box;
  color: #333;
  background-color: #eee;
  line-height: 1;
}
.timestamp {
  color: #bebebe;
  font-size: 90%;
}
.timestamp-kwd {
  color: #5f9ea0;
}
.org-right {
  margin-left: auto;
  margin-right: 0;
  text-align: right;
}
.org-left {
  margin-left: 0;
  margin-right: auto;
  text-align: left;
}
.org-center {
  margin-left: auto;
  margin-right: auto;
  text-align: center;
}
.underline {
  text-decoration: underline;
}
#postamble p,
#preamble p {
  font-size: 90%;
  margin: 0.2em;
}
p.verse {
  margin-left: 3%;
}
:not(pre) > code {
  padding: 2px 5px;
  margin: auto 1px;
  border: 1px solid #ddd;
  border-radius: 3px;
  background-clip: padding-box;
  color: #333;
  font-size: 80%;
}
.org-src-container {
  border: 1px solid #ccc;
  box-shadow: 3px 3px 3px #eee;
  font-family: Lucida Console, monospace;
  font-size: 80%;
  margin: 1em auto;
  padding: 0.1em 0.5em;
  position: relative;
}
.org-src-container > pre {
  overflow: auto;
}
.org-src-container > pre:before {
  display: block;
  position: absolute;
  background-color: #b3b3b3;
  top: 0;
  right: 0;
  padding: 0 0.5em;
  border-bottom-left-radius: 8px;
  border: 0;
  color: #fff;
  font-size: 80%;
}
.org-src-container > pre.src-sh:before {
  content: "sh";
}
.org-src-container > pre.src-bash:before {
  content: "bash";
}
.org-src-container > pre.src-emacs-lisp:before {
  content: "Emacs Lisp";
}
.org-src-container > pre.src-R:before {
  content: "R";
}
.org-src-container > pre.src-cpp:before {
  content: "C++";
}
.org-src-container > pre.src-c:before {
  content: "C";
}
.org-src-container > pre.src-html:before {
  content: "HTML";
}
.org-src-container > pre.src-javascript:before,
.org-src-container > pre.src-js:before {
  content: "Javascript";
}
.org-src-container > pre.src-abc:before {
  content: "ABC";
}
.org-src-container > pre.src-asymptote:before {
  content: "Asymptote";
}
.org-src-container > pre.src-awk:before {
  content: "Awk";
}
.org-src-container > pre.src-C:before {
  content: "C";
}
.org-src-container > pre.src-calc:before {
  content: "Calc";
}
.org-src-container > pre.src-clojure:before {
  content: "Clojure";
}
.org-src-container > pre.src-comint:before {
  content: "comint";
}
.org-src-container > pre.src-css:before {
  content: "CSS";
}
.org-src-container > pre.src-D:before {
  content: "D";
}
.org-src-container > pre.src-ditaa:before {
  content: "Ditaa";
}
.org-src-container > pre.src-dot:before {
  content: "Dot";
}
.org-src-container > pre.src-ebnf:before {
  content: "ebnf";
}
.org-src-container > pre.src-forth:before {
  content: "Forth";
}
.org-src-container > pre.src-F90:before {
  content: "Fortran";
}
.org-src-container > pre.src-gnuplot:before {
  content: "Gnuplot";
}
.org-src-container > pre.src-haskell:before {
  content: "Haskell";
}
.org-src-container > pre.src-io:before {
  content: "Io";
}
.org-src-container > pre.src-java:before {
  content: "Java";
}
.org-src-container > pre.src-latex:before {
  content: "LaTeX";
}
.org-src-container > pre.src-ledger:before {
  content: "Ledger";
}
.org-src-container > pre.src-ly:before {
  content: "Lilypond";
}
.org-src-container > pre.src-lisp:before {
  content: "Lisp";
}
.org-src-container > pre.src-makefile:before {
  content: "Make";
}
.org-src-container > pre.src-matlab:before {
  content: "Matlab";
}
.org-src-container > pre.src-max:before {
  content: "Maxima";
}
.org-src-container > pre.src-mscgen:before {
  content: "Mscgen";
}
.org-src-container > pre.src-Caml:before {
  content: "Objective";
}
.org-src-container > pre.src-octave:before {
  content: "Octave";
}
.org-src-container > pre.src-org:before {
  content: "Org";
}
.org-src-container > pre.src-perl:before {
  content: "Perl";
}
.org-src-container > pre.src-picolisp:before {
  content: "Picolisp";
}
.org-src-container > pre.src-plantuml:before {
  content: "PlantUML";
}
.org-src-container > pre.src-python:before {
  content: "Python";
}
.org-src-container > pre.src-ruby:before {
  content: "Ruby";
}
.org-src-container > pre.src-sass:before {
  content: "Sass";
}
.org-src-container > pre.src-scala:before {
  content: "Scala";
}
.org-src-container > pre.src-scheme:before {
  content: "Scheme";
}
.org-src-container > pre.src-screen:before {
  content: "Screen";
}
.org-src-container > pre.src-sed:before {
  content: "Sed";
}
.org-src-container > pre.src-shell:before {
  content: "shell";
}
.org-src-container > pre.src-shen:before {
  content: "Shen";
}
.org-src-container > pre.src-sql:before {
  content: "SQL";
}
.org-src-container > pre.src-sqlite:before {
  content: "SQLite";
}
.org-src-container > pre.src-stan:before {
  content: "Stan";
}
.org-src-container > pre.src-vala:before {
  content: "Vala";
}
.org-src-container > pre.src-axiom:before {
  content: "Axiom";
}
.org-src-container > pre.src-browser:before {
  content: "HTML";
}
.org-src-container > pre.src-cypher:before {
  content: "Neo4j";
}
.org-src-container > pre.src-elixir:before {
  content: "Elixir";
}
.org-src-container > pre.src-request:before {
  content: "http";
}
.org-src-container > pre.src-ipython:before {
  content: "iPython";
}
.org-src-container > pre.src-kotlin:before {
  content: "Kotlin";
}
.org-src-container > pre.src-Flavored Erlang lfe:before {
  content: "Lisp";
}
.org-src-container > pre.src-mongo:before {
  content: "MongoDB";
}
.org-src-container > pre.src-prolog:before {
  content: "Prolog";
}
.org-src-container > pre.src-rec:before {
  content: "rec";
}
.org-src-container > pre.src-ML sml:before {
  content: "Standard";
}
.org-src-container > pre.src-Translate translate:before {
  content: "Google";
}
.org-src-container > pre.src-typescript:before {
  content: "Typescript";
}
.org-src-container > pre.src-rust:before {
  content: "Rust";
}
.inlinetask {
  background: #ffc;
  border: 2px solid grey;
  margin: 10px;
  padding: 10px;
}
#org-div-home-and-up {
  font-size: 70%;
  text-align: right;
  white-space: nowrap;
}
.linenr {
  font-size: 90%;
}
.code-highlighted {
  background-color: #ff0;
}
#bibliography {
  font-size: 90%;
}
#bibliography table {
  width: 100%;
}
.creator {
  display: block;
}
@media screen and (min-width: 600px) {
  .creator {
    display: inline;
    float: right;
  }
}
.button {
  position: relative;
  display: inline-block;
  vertical-align: top;
  box-sizing: border-box;

  cursor: pointer;
  border-radius: 3px;
  padding: 3px 6px;

  font-family: Arial, Helvetica, sans-serif;
  font-weight: bold;
  font-size: 11px;
  color: #fff;
  text-decoration: none;
}


.github-button {
  background-color: #24292f;
}

.github-button:hover {
  background-color: #57606a;
}

.github-button:active {
  background-color: #6e7781;
}

.telegram-button {
  background-color: #0088cc;
}

.telegram-button:hover {
  background-color: #007dbb;
}

.telegram-button:active {
  background-color: #026698;
}

.button i {
  display: inline-block;
  height: 12px;
  width: 14px;
  vertical-align: middle;
  margin-right: 2px;

  background-size: contain;
}

.button:hover {
  color: #fff;
  border-bottom: 0px;
}

.button svg {
  display: inline-block;
  height: 12px;
  width: 14px;
  vertical-align: middle;
  margin-right: 2px;

}

.telegram-button i {
  background: url("https://telegram.org/img/oauth/tg_button_small.png") no-repeat;
}

.telegram-button span {
  display: inline-block;
  vertical-align: top;
}
</style>
</head>
<body>
<div id="preamble" class="status">
<p class="date">Дата публикации: 11-12-2022</p>
</div>
<div id="content" class="content">
<h1 class="title">Что я узнал за 10 дней Advent Of Code на SQLite</h1>

<div id="org87c3e0f" class="figure">
<p><img src="https://mishkun.xyz/attachments/sqlite.png" alt="sqlite.png" />
</p>
</div>

<div class="abstract" id="orgb557397">
<p>
<a href="https://adventofcode.com/">Advent Of Code</a> - популярный набор задачек по программированию в формате
<a href="https://ru.wikipedia.org/wiki/%D0%A0%D0%BE%D0%B6%D0%B4%D0%B5%D1%81%D1%82%D0%B2%D0%B5%D0%BD%D1%81%D0%BA%D0%B8%D0%B9_%D0%BA%D0%B0%D0%BB%D0%B5%D0%BD%D0%B4%D0%B0%D1%80%D1%8C">адвент-календаря</a>. В этом году я решил порешать его на SQL, чтобы подтянуть свои
знания этого языка. Формат задач по программированию - нетипичное применение
SQLite и я сумел разобраться с фичами и столкнулся с особенностями SQLite,
которые раньше почти не трогал. Я совсем не DBA, так что от каких-то
&ldquo;заметок&rdquo; можно прибить себя фейспалмом. Смело пиши в комменты, где я не прав.
</p>

</div>

<div id="outline-container-orgc1efdde" class="outline-2">
<h2 id="orgc1efdde">Заметка 1. SQLite отлично работает для решений &ldquo;навыброс&rdquo;</h2>
<div class="outline-text-2" id="text-orgc1efdde">
<p>
До решения AoC я работал в основном с Postgres с несложными аналитическими
запросами, а sqlite использовал как часть утилиты <a href="https://github.com/dinedal/textql">textql</a> для того чтобы трогать
csv-шки. Кстати, sqlite я изучал по <a href="https://stepik.org/course/113615/promo">курсу</a> на Stepik и он мне очень понравился.
Когда я выбирал на чём решать AoC, я решил использовать sqlite а не postges,
потому что её не нужно разворачивать и у неё есть удобный cli и инструменты
работы с текстовым вводом. И это действительно было удобно.
</p>
</div>
</div>
<div id="outline-container-orgf9141ad" class="outline-2">
<h2 id="orgf9141ad">Заметка 2. В SQLite нет циклов</h2>
<div class="outline-text-2" id="text-orgf9141ad">
<p>
Я, конечно, знал, что в SQL буква S ни разу не означает Standard. Но разница в
диалектах иногда уж очень большая. Например, для меня было сюрпризом, что в
SQLite нет поддержки циклов. А без этого весьма тяжело было поначалу решать AoC
задачки, потому что большая часть из них состоит в том, чтобы правильно спарсить
инструкции и выполнить их.
</p>
</div>
</div>
<div id="outline-container-orgd218e0d" class="outline-2">
<h2 id="orgd218e0d">Заметка 3. Зато в SQLite есть рекурсивные Common Table Expressions</h2>
<div class="outline-text-2" id="text-orgd218e0d">
<p>
В итоге для решения AoC одной из самых полезных фич оказались <a href="https://www.sqlite.org/lang_with.html">Common Table
Expressions</a>. Ими можно и инструкции спарсить, и на подстроки ввод разбить и
потом эти же инструкции и выполнить. В обычном мире RCTE используют для запросов
иерархичных данных. Классическим примером будет такой код
</p>
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #e45649;">select</span> * <span style="color: #e45649;">from</span> folders;
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">+------+--------+</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">|  id  | parent |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">+------+--------+</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| root |        |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| a    | root   |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| b    | root   |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| c    | a      |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| d    | b      |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| e    | c      |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">+------+--------+</span>
<span style="color: #e45649;">with</span> <span style="color: #e45649;">recursive</span> <span style="color: #e45649;">path</span> <span style="color: #e45649;">as</span>(
  <span style="color: #e45649;">select</span> id, id <span style="color: #e45649;">as</span> <span style="color: #e45649;">path</span> <span style="color: #e45649;">from</span> folders
  <span style="color: #e45649;">where</span> parent <span style="color: #e45649;">is</span> <span style="color: #e45649;">null</span>

  <span style="color: #e45649;">union</span> <span style="color: #e45649;">all</span>

  <span style="color: #e45649;">select</span> folders.id, <span style="color: #e45649;">path</span>.<span style="color: #e45649;">path</span> || <span style="color: #50a14f;">'/'</span> || folders.id <span style="color: #e45649;">from</span> <span style="color: #e45649;">path</span> <span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">recursive call</span>
  <span style="color: #e45649;">join</span> folders <span style="color: #e45649;">on</span> parent = <span style="color: #e45649;">path</span>.id
) <span style="color: #e45649;">select</span> * <span style="color: #e45649;">from</span> <span style="color: #e45649;">path</span>;
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">+------+------------+</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">|  id  |    path    |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">+------+------------+</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| root | root       |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| a    | root/a     |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| b    | root/b     |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| c    | root/a/c   |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| d    | root/b/d   |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| e    | root/a/c/e |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">+------+------------+</span>
</pre>
</div>
<p>
Но так как в SQLite нет циклов, а итерироваться по набору данных как-то нужно,
RCTE я использовал почти в каждой задаче, вне зависимости от того, были ли там
иерархичные данные или нет. Сейчас покажу несколько примеров.
</p>
</div>
<div id="outline-container-orgc433f1f" class="outline-3">
<h3 id="orgc433f1f">Пример 1. Разбить строку на подстроки</h3>
<div class="outline-text-3" id="text-orgc433f1f">
<p>
В <a href="https://adventofcode.com/2022/day/6">шестой день</a> была простая задача, которая бы на Kotlin решалась в одну строку
при помощи цепочки из операторов из стандартной библиотеки. Нужно было найти
первую позицию скользящего окна в 4 символа, в которой все символы различаются.
Но для того, чтобы это сделать, нужно превратить строку в таблицу с рядами вида
<code>(character, index)</code>. Тут нам на помощь может прийти RCTE.
</p>
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #e45649;">select</span> * <span style="color: #e45649;">from</span> inp;
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">+-------------------------------+</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">|              inp              |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">+-------------------------------+</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| sgrrrrwcrxlqqgppfgfnngsgcgngr |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">+-------------------------------+</span>
<span style="color: #e45649;">with</span> <span style="color: #e45649;">recursive</span> parsed <span style="color: #e45649;">as</span> (
     <span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">&#1042;&#1099;&#1073;&#1080;&#1088;&#1072;&#1077;&#1084; &#1087;&#1077;&#1088;&#1074;&#1099;&#1081; &#1089;&#1080;&#1084;&#1074;&#1086;&#1083; &#1080; &#1087;&#1077;&#1088;&#1074;&#1099;&#1081; &#1080;&#1085;&#1076;&#1077;&#1082;&#1089;</span>
     <span style="color: #e45649;">select</span> substr(inp, <span style="color: #da8548; font-weight: bold;">1</span>, <span style="color: #da8548; font-weight: bold;">1</span>) <span style="color: #e45649;">as</span> ch, <span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #e45649;">as</span> index <span style="color: #e45649;">from</span> inp
     <span style="color: #e45649;">union</span> <span style="color: #e45649;">all</span>
     <span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">&#1042;&#1099;&#1073;&#1080;&#1088;&#1072;&#1077;&#1084; &#1087;&#1086;&#1089;&#1083;&#1077;&#1076;&#1091;&#1102;&#1097;&#1080;&#1077; &#1089;&#1080;&#1084;&#1074;&#1086;&#1083;&#1099;, &#1091;&#1074;&#1077;&#1083;&#1080;&#1095;&#1080;&#1074;&#1072;&#1103; &#1080;&#1085;&#1076;&#1077;&#1082;&#1089; &#1085;&#1072; &#1077;&#1076;&#1080;&#1085;&#1080;&#1094;&#1091;</span>
     <span style="color: #e45649;">select</span> substr(inp, index+<span style="color: #da8548; font-weight: bold;">1</span>, <span style="color: #da8548; font-weight: bold;">1</span>) <span style="color: #e45649;">as</span> ch,
            index + <span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #e45649;">as</span> index
     <span style="color: #e45649;">from</span> parsed, inp
     <span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">&#1063;&#1090;&#1086;&#1073;&#1099; &#1085;&#1077; &#1091;&#1083;&#1077;&#1090;&#1077;&#1090;&#1100; &#1074; &#1073;&#1077;&#1089;&#1082;&#1086;&#1085;&#1077;&#1095;&#1085;&#1091;&#1102; &#1088;&#1077;&#1082;&#1091;&#1088;&#1089;&#1080;&#1102;, &#1086;&#1089;&#1090;&#1072;&#1085;&#1072;&#1074;&#1083;&#1080;&#1074;&#1072;&#1077;&#1084;&#1089;&#1103; &#1082;&#1086;&#1075;&#1076;&#1072; &#1080;&#1085;&#1076;&#1077;&#1082;&#1089; &#1074;&#1099;&#1093;&#1086;&#1076;&#1080;&#1090; &#1079;&#1072; &#1075;&#1088;&#1072;&#1085;&#1080;&#1094;&#1099; &#1089;&#1090;&#1088;&#1086;&#1082;&#1080;</span>
     <span style="color: #e45649;">where</span> index &lt; <span style="color: #e45649;">length</span>(inp)
) <span style="color: #e45649;">select</span> * <span style="color: #e45649;">from</span> parsed
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">+--------+-----+</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| window | pos |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">+--------+-----+</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| s      | 1   |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| g      | 2   |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| r      | 3   |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| r      | 4   |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| r      | 5   |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| r      | 6   |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| w      | 7   |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| c      | 8   |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| r      | 9   |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| x      | 10  |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| l      | 11  |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| q      | 12  |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| q      | 13  |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| g      | 14  |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| p      | 15  |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| p      | 16  |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| f      | 17  |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| g      | 18  |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| f      | 19  |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| n      | 20  |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| n      | 21  |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| g      | 22  |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| s      | 23  |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| g      | 24  |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| c      | 25  |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| g      | 26  |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| n      | 27  |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| g      | 28  |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| r      | 29  |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">+--------+-----+</span>
</pre>
</div>
<p>
В RCTE в SQLite рекурсия немного своеобразная. Если бы на Kotlin я писал,
начиная от общего случая и приводя базовые потом, то здесь приходится сначала
давать базовый случай и &ldquo;наращивать&rdquo; данные поверх него. Вот пример рекурсивного
решения на Kotlin:
</p>
<div class="org-src-container">
<pre class="src src-kotlin"><span style="color: #e45649;">fun</span> <span style="color: #a626a4;">explode</span>(str: <span style="color: #986801;">String</span>, chars: <span style="color: #986801;">List&lt;Char&gt;</span> = emptyList()) : <span style="color: #986801;">List&lt;Char&gt;</span> = <span style="color: #e45649;">when</span> (str.isEmpty) {
    <span style="color: #b751b6;">true</span> -&gt; chars
    <span style="color: #e45649;">else</span> -&gt; explode(str.substringAfter(<span style="color: #da8548; font-weight: bold;">0</span>), chars.plus(str[<span style="color: #da8548; font-weight: bold;">0</span>]))
}
</pre>
</div>
<p>
Когда я пишу код выше, я представляю его в том порядке, в котором он будет
вызываться - начиная с полной строки, постепенно доходя до пустой строки. но в
RCTE приходится думать наборот - начиная уже с каких-то данных.
</p>
</div>
</div>
<div id="outline-container-org38b5719" class="outline-3">
<h3 id="org38b5719">Пример 2. RCTE позволяют выполнять инструкции &rsquo;по шагам&rsquo;</h3>
<div class="outline-text-3" id="text-org38b5719">
<p>
Так как в RCTE мы в каждом ряду храним какой-то стейт, его можно итеративно
изменять, используя некоторый набор инструкций как вход. К примеру, в <a href="https://adventofcode.com/2022/day/9">9 день</a>
была задача, в которой конец верёвки перемещался по двумерному полю по
инструкциям в виде букв &rsquo;U&rsquo;, &rsquo;D&rsquo;, &rsquo;L&rsquo;, &rsquo;R&rsquo;. Небольшим CTE можно получить из
набора инструкций таблицу с координатами верёвки на каждом шаге.
</p>
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #e45649;">select</span> * <span style="color: #e45649;">from</span> instructions;
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">+-----------+----+</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| direction | n  |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">+-----------+----+</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| R         | 1  |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| U         | 2  |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| D         | 3  |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| U         | 4  |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| R         | 5  |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| R         | 6  |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| D         | 7  |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| D         | 8  |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| R         | 9  |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| R         | 10 |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| D         | 11 |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| D         | 12 |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| R         | 13 |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| U         | 14 |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">+-----------+----+</span>
solution <span style="color: #e45649;">as</span>(
    <span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">&#1047;&#1072;&#1076;&#1072;&#1105;&#1084; &#1085;&#1072;&#1095;&#1072;&#1083;&#1100;&#1085;&#1099;&#1077; &#1087;&#1086;&#1079;&#1080;&#1094;&#1080;&#1080; &#1082;&#1072;&#1082; 0,0 &#1080; &#1090;&#1077;&#1082;&#1091;&#1097;&#1080;&#1081; &#1096;&#1072;&#1075; &#1082;&#1072;&#1082; 1</span>
    <span style="color: #e45649;">select</span> <span style="color: #da8548; font-weight: bold;">0</span> <span style="color: #e45649;">as</span> hi, <span style="color: #da8548; font-weight: bold;">0</span> <span style="color: #e45649;">as</span> hj, <span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #e45649;">as</span> step
    <span style="color: #e45649;">union</span> <span style="color: #e45649;">all</span>
    <span style="color: #e45649;">select</span>
        <span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">"&#1080;&#1079;&#1084;&#1077;&#1085;&#1103;&#1077;&#1084;" &#1089;&#1086;&#1089;&#1090;&#1086;&#1103;&#1085;&#1080;&#1077;, &#1086;&#1089;&#1085;&#1086;&#1074;&#1099;&#1074;&#1072;&#1103;&#1089;&#1100; &#1085;&#1072; &#1087;&#1088;&#1077;&#1076;&#1099;&#1076;&#1091;&#1097;&#1077;&#1084; &#1096;&#1072;&#1075;&#1077;</span>
        <span style="color: #e45649;">case</span> direction
            <span style="color: #e45649;">when</span> <span style="color: #50a14f;">'U'</span> <span style="color: #e45649;">then</span> hi + <span style="color: #da8548; font-weight: bold;">1</span>
            <span style="color: #e45649;">when</span> <span style="color: #50a14f;">'D'</span> <span style="color: #e45649;">then</span> hi - <span style="color: #da8548; font-weight: bold;">1</span>
            <span style="color: #e45649;">else</span> hi
        <span style="color: #e45649;">end</span> <span style="color: #e45649;">as</span> hi,
        <span style="color: #e45649;">case</span> direction
            <span style="color: #e45649;">when</span> <span style="color: #50a14f;">'R'</span> <span style="color: #e45649;">then</span> hj + <span style="color: #da8548; font-weight: bold;">1</span>
            <span style="color: #e45649;">when</span> <span style="color: #50a14f;">'L'</span> <span style="color: #e45649;">then</span> hj - <span style="color: #da8548; font-weight: bold;">1</span>
            <span style="color: #e45649;">else</span> hj
        <span style="color: #e45649;">end</span> <span style="color: #e45649;">as</span> hj,
        <span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">&#1080;&#1085;&#1082;&#1088;&#1077;&#1084;&#1077;&#1085;&#1090;&#1080;&#1088;&#1091;&#1077;&#1084; &#1096;&#1072;&#1075;</span>
        step + <span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #e45649;">as</span> step
    <span style="color: #e45649;">from</span> solution
    <span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">&#1076;&#1078;&#1086;&#1081;&#1085;&#1080;&#1084; &#1085;&#1072;&#1096;&#1091; &#1090;&#1072;&#1073;&#1083;&#1080;&#1094;&#1091; &#1089; &#1080;&#1085;&#1089;&#1090;&#1088;&#1091;&#1082;&#1094;&#1080;&#1103;&#1084;&#1080;, &#1095;&#1090;&#1086;&#1073;&#1099; &#1079;&#1085;&#1072;&#1090;&#1100; &#1095;&#1090;&#1086; &#1076;&#1077;&#1083;&#1072;&#1090;&#1100; &#1076;&#1072;&#1083;&#1100;&#1096;&#1077;</span>
    <span style="color: #e45649;">join</span> instructions <span style="color: #e45649;">on</span> n = step
) <span style="color: #e45649;">select</span> * <span style="color: #e45649;">from</span> solution
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">+----+----+------+</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| hi | hj | step |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">+----+----+------+</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| 0  | 0  | 1    |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| 0  | 1  | 2    |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| 1  | 1  | 3    |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| 0  | 1  | 4    |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| 1  | 1  | 5    |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| 1  | 2  | 6    |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| 1  | 3  | 7    |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| 0  | 3  | 8    |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| -1 | 3  | 9    |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| -1 | 4  | 10   |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| -1 | 5  | 11   |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| -2 | 5  | 12   |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| -3 | 5  | 13   |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| -3 | 6  | 14   |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| -2 | 6  | 15   |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">+----+----+------+</span>
</pre>
</div>
<p>
В коде выше для каждого шага join возвращает новую инструкцию из таблицы, пока
они не закончатся. Таким образом можно на SQL решать задачи, в которых требуется
итерация. Прямо как деоптимизация хвостовой рекурсии руками.
</p>
</div>
</div>
</div>
<div id="outline-container-orgd3a3650" class="outline-2">
<h2 id="orgd3a3650">Заметка 4. Window functions это прикольно, но не всегда возможно</h2>
<div class="outline-text-2" id="text-orgd3a3650">
<p>
Оконные функции - мощный инструмент чтобы просматривать рядом выше или рядом
ниже. Или как-нибудь узнать порядковый номер ряда в нашем окне или в таблице в
целом. Например пронумеровать ряды можно простым селектом по пустому окну.
</p>
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #e45649;">select</span> *, row_number() over () <span style="color: #e45649;">from</span> my_table
</pre>
</div>
<p>
Иногда они гиперполезны. Например первая задача <a href="https://adventofcode.com/2022/day/8">восьмого дня</a> решается четырьмя
оконными функциями и селектом по ним.
</p>
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #e45649;">select</span> *,
    <span style="color: #a626a4;">max</span>(val) over (partition <span style="color: #e45649;">by</span> i <span style="color: #e45649;">order</span> <span style="color: #e45649;">by</span> j <span style="color: #e45649;">rows</span> <span style="color: #e45649;">between</span> unbounded preceding <span style="color: #e45649;">and</span> <span style="color: #e45649;">current</span> <span style="color: #986801;">row</span> EXCLUDE <span style="color: #e45649;">CURRENT</span> <span style="color: #986801;">ROW</span>) <span style="color: #e45649;">as</span> rank_i,
    <span style="color: #a626a4;">max</span>(val) over (partition <span style="color: #e45649;">by</span> i <span style="color: #e45649;">order</span> <span style="color: #e45649;">by</span> j <span style="color: #e45649;">rows</span> <span style="color: #e45649;">between</span> <span style="color: #e45649;">current</span> <span style="color: #986801;">row</span> <span style="color: #e45649;">and</span> unbounded following EXCLUDE <span style="color: #e45649;">CURRENT</span> <span style="color: #986801;">ROW</span>) <span style="color: #e45649;">as</span> rank_i_rev,
    <span style="color: #a626a4;">max</span>(val) over (partition <span style="color: #e45649;">by</span> j <span style="color: #e45649;">order</span> <span style="color: #e45649;">by</span> i <span style="color: #e45649;">rows</span> <span style="color: #e45649;">between</span> unbounded preceding <span style="color: #e45649;">and</span> <span style="color: #e45649;">current</span> <span style="color: #986801;">row</span> EXCLUDE <span style="color: #e45649;">CURRENT</span> <span style="color: #986801;">ROW</span>) <span style="color: #e45649;">as</span> rank_j,
    <span style="color: #a626a4;">max</span>(val) over (partition <span style="color: #e45649;">by</span> j <span style="color: #e45649;">order</span> <span style="color: #e45649;">by</span> i <span style="color: #e45649;">rows</span> <span style="color: #e45649;">between</span> <span style="color: #e45649;">current</span> <span style="color: #986801;">row</span> <span style="color: #e45649;">and</span> unbounded following EXCLUDE <span style="color: #e45649;">CURRENT</span> <span style="color: #986801;">ROW</span>) <span style="color: #e45649;">as</span> rank_j_rev
<span style="color: #e45649;">from</span> parsed
</pre>
</div>
<p>
Этот набор функций позволяет &ldquo;просмотреть&rdquo; наиболее высокие деревья по вертикали
и горизонтали, исключая наши. Очень круто, но не всегда работает.
</p>
</div>
<div id="outline-container-orgceac15b" class="outline-3">
<h3 id="orgceac15b">Подводный камень 1. Оконные функции не поддерживают distinct</h3>
<div class="outline-text-3" id="text-orgceac15b">
<p>
Задачу из шестого дня выше можно было бы решить элегантно используя <a href="https://www.sqlite.org/windowfunctions.html">window
functions</a>, написав что-то вроде такого sql
</p>
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #e45649;">select</span> <span style="color: #a626a4;">count</span>(<span style="color: #e45649;">distinct</span> *) over (<span style="color: #e45649;">order</span> <span style="color: #e45649;">by</span> index <span style="color: #e45649;">between</span> <span style="color: #e45649;">current</span> <span style="color: #986801;">row</span> <span style="color: #e45649;">and</span> <span style="color: #da8548; font-weight: bold;">4</span> following) <span style="color: #e45649;">from</span> parsed
</pre>
</div>
<p>
Но SQLite бодро встретит тебя сообщением о том, что в оконных функциях distinct
не поддерживается и иди-ка ты сам группируй символы по четыре и делай там свой
<code>count(distict *)</code>.
</p>
</div>
</div>
<div id="outline-container-org560c663" class="outline-3">
<h3 id="org560c663">Подводный камень 2. Оконные функции нельзя использовать в where.</h3>
<div class="outline-text-3" id="text-org560c663">
<p>
Допустим, мы захотели селектнуть каждый второй ряд. Мы не можем просто взять и
написать
</p>
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #e45649;">select</span> * <span style="color: #e45649;">from</span> my_table <span style="color: #e45649;">where</span> row_number() over () % <span style="color: #da8548; font-weight: bold;">2</span> = <span style="color: #da8548; font-weight: bold;">0</span>
</pre>
</div>
<p>
SQLite плюнет в тебя ошибкой про то что в where использовать оконные функции
нельзя. Только в select и order by, а всё остальное - будь добр используй CTE.
</p>
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #e45649;">with</span> temp <span style="color: #e45649;">as</span>(<span style="color: #e45649;">select</span> *, row_number() over () <span style="color: #e45649;">as</span> rn <span style="color: #e45649;">from</span> my_table)
<span style="color: #e45649;">select</span> * <span style="color: #e45649;">from</span> my_table <span style="color: #e45649;">where</span> rn % <span style="color: #da8548; font-weight: bold;">2</span> = <span style="color: #da8548; font-weight: bold;">0</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org662c114" class="outline-3">
<h3 id="org662c114">Подводный камень 3. Я не нашёл способа переиспользовать больше одного окна</h3>
<div class="outline-text-3" id="text-org662c114">
<p>
В SQLite можно вынести определение окна как <code>window &lt;имя&gt; as</code>
</p>
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #e45649;">select</span> row_number() over w, lead() over w <span style="color: #e45649;">from</span> my_table
window w <span style="color: #e45649;">as</span> (partition <span style="color: #e45649;">by</span> x <span style="color: #e45649;">order</span> <span style="color: #e45649;">by</span> y)
</pre>
</div>
<p>
Но сделать больше одной такой конструкции нельзя. Поэтому если у тебя больше
одного повторяющегося окна, приходится его копипастить.
</p>
</div>
</div>
</div>
<div id="outline-container-org836734b" class="outline-2">
<h2 id="org836734b">Заметка 5. В SQLite есть поддержка JSON</h2>
<div class="outline-text-2" id="text-org836734b">
<p>
Честно говоря, после того как узнал что в SQLite, в отличие от Postgres, нет
поддержки for loops и массивов, я не надеялся на поддержку JSON. Но она <a href="https://www.sqlite.org/json1.html#jins">есть</a>,
причём весьма неплохая. Можно как получать элементы по JSONpath, так и добавлять
их и даже раскладывать json-объекты и массивы в таблицы и обратно при помощи
json<sub>each</sub> и json<sub>aggregate</sub>. Можно даже работой с json массивами заменить
отсутствие настоящих массивов, но по индексу придётся брать при помощи json
path.
</p>
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #e45649;">select</span> * <span style="color: #e45649;">from</span> numbers;
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">+---+</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| x |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">+---+</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| 1 |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| 2 |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| 3 |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">+---+</span>

<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">&#1052;&#1086;&#1078;&#1077;&#1084; &#1089;&#1086;&#1073;&#1088;&#1072;&#1090;&#1100; &#1074;&#1089;&#1105; &#1074; json array &#1072;&#1075;&#1088;&#1077;&#1075;&#1072;&#1090;&#1085;&#1086;&#1081; &#1092;&#1091;&#1085;&#1082;&#1094;&#1080;&#1077;&#1081;</span>
<span style="color: #e45649;">select</span> json_group_array(x) <span style="color: #e45649;">as</span> json <span style="color: #e45649;">from</span> numbers;
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">+---------+</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">|  json   |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">+---------+</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| [1,2,3] |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">+---------+</span>

<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">&#1052;&#1086;&#1078;&#1077;&#1084; &#1086;&#1073;&#1088;&#1072;&#1097;&#1072;&#1090;&#1100;&#1089;&#1103; &#1087;&#1086; &#1080;&#1085;&#1076;&#1077;&#1082;&#1089;&#1091; &#1095;&#1077;&#1088;&#1077;&#1079; json path</span>
<span style="color: #e45649;">select</span> json_extract(json, <span style="color: #50a14f;">'$[0]'</span>) <span style="color: #e45649;">as</span> num <span style="color: #e45649;">from</span> jsonified;
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">+-----+</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| num |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">+-----+</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| 1   |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">+-----+</span>

<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">&#1048;, &#1085;&#1072;&#1082;&#1086;&#1085;&#1077;&#1094;, &#1084;&#1086;&#1078;&#1077;&#1084; &#1088;&#1072;&#1079;&#1083;&#1086;&#1078;&#1080;&#1090;&#1100; json &#1084;&#1072;&#1089;&#1089;&#1080;&#1074; &#1086;&#1073;&#1088;&#1072;&#1090;&#1085;&#1086; &#1074; &#1089;</span>
<span style="color: #e45649;">select</span> json_each.<span style="color: #e45649;">value</span> <span style="color: #e45649;">as</span> x <span style="color: #e45649;">from</span> json_each(jsonified);
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">+---+</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| x |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">+---+</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| 1 |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| 2 |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">| 3 |</span>
<span style="color: #9ca0a4;">-- </span><span style="color: #9ca0a4;">+---+</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org1e73277" class="outline-2">
<h2 id="org1e73277">Заметка 6. SQL - язык времён COBOL</h2>
<div class="outline-text-2" id="text-org1e73277">
<p>
Меня хватило на 10 дней Advent Of Code на SQL. И не потому что следующие задачи
нельзя решить на SQL. Несмотря SQL очень неповоротливый язык, который слишком
пытается быть похожим на английский язык. Чего только стоит синтаксис оконных
функций. Писать на нём не очень приятно, он постоянно просит от тебя каких то
церемоний типа убрать лишнюю запятую после того как переписал запрос или сделать
ещё один select чтобы не повторять агрегатную функцию второй раз. К этому всему
добавляется разница в диалектах разных баз данных. Честно говоря, не понимаю,
почему до сих пор не придумали какой-нибудь байткод для движков запросов и
нормальный фронтенд к нему. Почему тысячи человеколет направлены на оптимизацию
не самого приятного для работы языка.
</p>
</div>
<div id="outline-container-org7b0e06f" class="outline-3">
<h3 id="org7b0e06f">Каждый язык под свою задачу?</h3>
<div class="outline-text-3" id="text-org7b0e06f">
<p>
Ты скажешь, что я дурачок и просто забиваю молотком шурупы. Но такие ли уж это
разные задачи? Почему доставать данные из хранилища я должен одним языком, а
обрабатывать их - другим? Любой веб работает как пайплайн из select-map-render.
Почему не придумали до сих пор способов писать всё на одном языке
программирования? Причём не просто запихнуть ORM, а дать возможность именно что
задавать вопросы к хранилищу. LINQ подобрался к этому ближе всего, но
недостаточно.Планирую в будущем поизучать другие языки запросов
для реляционных данных, такие как <a href="https://www.edgedb.com/docs/edgeql/index">EdgeQL</a> и различные имплементации <a href="https://en.wikipedia.org/wiki/Datalog">Datalog</a>. Ещё
видел язык <a href="https://flix.dev/">Flix</a>, который имеет Datalog как часть языка, попробую и его.
Обязательно напишу пост, если найду что-то удобнее SQL, а пока AoC дорешаю на
чём нибудь другом.
</p>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<a class="telegram-button button" href="https://t.me/izpodshtorki" target="_blank"><i></i><span>Подпишись и обсуждай в Telegram</span></a>
</div>
</body>
</html>